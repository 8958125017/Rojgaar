<div class="dash-head">
  <p *ngIf="InterviewSchedule">Schedule Interview</p>
  <p *ngIf="JobCardShow==false && InterviewSchedule==false">Scheduled Interview List</p>
  <p *ngIf="JobCardShow">Schedule Interview</p>
  <a class="btn btn-w-shadow no-rd pull-right" *ngIf="BackFromJobDetailshow && redirectingFromApplication" (click)="BackToJobList()"
    href="javascript:void(0)" title="Go To Job List"><i aria-hidden="true" class="fa fa-arrow-left"></i></a>
  <a class="btn btn-w-shadow no-rd pull-right" *ngIf="BackButton" (click)="InterviewRedirection()" href="javascript:void(0)"
    title="Go Back">
    <i aria-hidden="true" class="fa fa-arrow-left"></i>
  </a>
  <a class="btn btn-w-shadow no-rd pull-right" *ngIf="(backToJob=='1')" (click)="BackToAppliedJob()" href="javascript:void(0)"
    title="Go Back">
    <i aria-hidden="true" class="fa fa-arrow-left"></i>
  </a>
  <a class="btn btn-w-shadow no-rd pull-right" tabindex="0" href="javascript:void(0)" *ngIf="CreateButton" (click)="InterviewSchedulePage()">
    Schedule
    Interview
  </a>
</div>
<!-- //////////////// Header Ends Here ////////// -->

<!-- //////////////// Interview Filter Starts From Here ////////// -->

<div class="page-filters" [ngClass]="(JobCardShow==false && InterviewSchedule==false)?'show':'hide'">
  <h2>
    <a href="javascript:void(0);">
      <i class="fa fa-filter" aria-hidden="true"></i> Apply Filters
      <span><i class="fa fa-chevron-down" aria-hidden="true"></i></span>
    </a>
  </h2>
  <form action="" [formGroup]="InterviewSearch">
    <div class="filter-wrapper">
      <div class="form-group">
        <div class="col-md-3 col-sm-6">
          <label>State<span class="mandatory"></span></label>
          <select class="form-control" formControlName="Stateid" (change)="onChangeState(InterviewSearch.value.Stateid)">
            <option value="" class="" selected="selected">-- Select --</option>
            <option *ngFor="let state of lstState" [value]="state.id">{{state.stateName}}</option>
          </select>
        </div>
        <div class="col-md-3 col-sm-6">
          <label>District<span class="mandatory"></span></label>
          <select class="form-control" formControlName="Districtid">
            <option value="" selected="selected">-- Select --</option>
            <option *ngFor="let district of district" [value]="district.id">{{district.districtName}}</option>
          </select>
        </div>
        <div class="col-md-3 col-sm-6">
          <label>Date From<span class="mandatory"></span></label>
          <div class="input-group">
            <input type="text" #validfrom="bsDatepicker" placeholder="Select Date" bsDatepicker [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY',showWeekNumbers:false  }"
              disabled class="form-control" formControlName="DateFrom" />
            <span class="input-group-addon" (click)="validfrom.toggle()" [attr.aria-expanded]="validfrom.isOpen"><i
                class="fa fa-calendar"></i></span>

          </div>
        </div>
        <div class="col-md-3 col-sm-6">
          <label>Date To<span class="mandatory"></span></label>
          <div class="input-group">
            <input type="text" #validto="bsDatepicker" placeholder="Select Date" bsDatepicker [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY',showWeekNumbers:false  }"
              disabled class="form-control" formControlName="DateTo" />
            <span class="input-group-addon" (click)="validto.toggle()" [attr.aria-expanded]="validto.isOpen"><i class="fa fa-calendar"></i></span>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="col-md-3 col-sm-6">
          <label>Location<span class="mandatory"></span></label>
          <select class="form-control" formControlName="LocationFilter">
            <option value="" class="" selected="selected">--Select--</option>
            <option *ngFor="let item of workLocation" value="{{item.id}}">{{item.address}}</option>
          </select>
        </div>

        <div class="col-md-3 col-sm-6">
          <label>Search Keyword<span class="mandatory"></span></label>
          <input class="form-control" placeholder="Keyword" formControlName="SearchKeyInterview">
        </div>
      </div>
      <div class="row text-center m-t-5">
        <button type="button" (click)="ResetFilterResult()" class="btn btn-w-shadow no-rd">Reset</button>
        <button type="submit" (click)="GetInterviewResultFilter(0,'')" class="btn btn-w-shadow no-rd filter-toggle">Search</button>
      </div>
    </div>
  </form>
</div>
<div class="col-md-12" *ngIf="JobCardShow==false && InterviewSchedule==false">
  <div class="col-md-12 jd-detail job-wrapper searchResults" *ngIf="(SearchResultInterview)">
    <div class="form-group">
      <div class="row">
        <div class="col-md-12">
          <h4 class="m-b-0">Search Result</h4>
        </div>
      </div>
    </div>

    <div class="form-group">
      <div class="row">
        <div class="col-md-4 col-sm-6 col-xs-12">
          <span class="text-strong">State</span>: {{ShowPushData.state}}
        </div>
        <div class="col-md-4 col-sm-6 col-xs-12">
          <span class="text-strong">District</span>: {{ShowPushData.district}}
        </div>
        <div class="col-md-4 col-sm-6 col-xs-12" *ngIf="ShowPushData.DateFrom">
          <span class="text-strong">Date To</span>: {{
          ShowPushData.DateFrom | date:
          'dd/MM/y'
          }}
        </div>
        <div class="col-md-4 col-sm-6 col-xs-12" *ngIf="(ShowPushData.DateFrom==''|| ShowPushData.DateFrom==null)">
          <span class="text-strong">Date To</span>:NA
        </div>

        <div class="col-md-4 col-sm-6 col-xs-12" *ngIf="ShowPushData.DateTo">
          <span class="text-strong">Date From</span>: {{
          ShowPushData.DateTo | date:
          'dd/MM/y'
          }}
        </div>
        <div class="col-md-4 col-sm-6 col-xs-12" *ngIf="(ShowPushData.DateTo==''|| ShowPushData.DateTo==null)">
          <span class="text-strong">Date To</span>:NA
        </div>
        <div class="col-md-4 col-sm-6 col-xs-12">
          <span class="text-strong">Location</span>: {{ShowPushData.Location}}
        </div>
        <div class="col-md-4 col-sm-6 col-xs-12">
          <span class="text-strong">Search Keyword</span>: {{ShowPushData.Keyword}}
        </div>
      </div>
    </div>
  </div>
</div>
<!-- //////////////// Interview Filter Ends Here ////////// -->

<!-- //////////////// Interview List Starts From Here ////////// -->
<div class="col-md-12" *ngIf="InterviewListShow">
  <div class="all-jobs-list">
    <div id="" class="searchResults">
      <ul class="joblist-wrapper">
        <li class="job-wrapper edit-delete-h" *ngFor="let item of InterviewRes">
          <div class="form-group m-b-0">
            <div class="row">
              <div class="col-md-12">
                <h2 class="job-title">{{item.comapnyName}}</h2>
              </div>
            </div>
          </div>
          <div class="form-group m-b-0">
            <div class="row">
              <div class="col-md-12">
                <h3 class="company-name m-b-10">Job Title : {{item.jobTitle}}</h3>
              </div>
            </div>
          </div>
          <div class="form-group m-b-0">
            <div class="row">
              <div class="col-md-12">
                <h3 class="company-name">Job Code : {{item.jobcode}}</h3>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-12">
                <strong>Interview Date : </strong> <span>
                  {{item.interviewDateFrom | date:'dd/MM/y'}} - {{item.interviewDateTo | date:'dd/MM/y'}}
                </span>
              </div>
            </div>
          </div>

          <div class="form-group">
            <div class="row">
              <div class="col-md-12 lang-ellip">
                <strong>Location : </strong>
                <span *ngIf="item.workloc!=0">
                  {{item.worklocName}}
                </span>
                <span *ngIf="item.address!=null">
                  {{item.address}}
                </span>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-6">
                <strong>State : </strong>
                <span>
                  {{item.stateName}}
                </span>
              </div>
              <div class="col-md-6">
                <strong>District : </strong>
                <span>
                  {{item.districtName}}
                </span>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-6">
                <strong>Time : </strong> <span>
                  {{converttime(item.interviewFrom)}}-{{converttime(item.interviewTo)}}
                </span>
              </div>
              <div class="col-md-6">
                <strong>Job Posted Date : </strong>
                <span>
                  {{item.jobPushedDate | date:'dd/MM/y'}}
                </span>
              </div>
            </div>
          </div>

          <div class="form-group">
            <div class="row">
              <div class="col-md-6">
                <strong>No. Of Vacancy : </strong>
                <span>
                  {{item.totalvancancy}}
                </span>
              </div>
              <div class="col-md-6">
                <strong>Candidate Count : </strong>
                <span>
                  {{item.totalScheduleInterview}}
                </span>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="job-list-action card-view-btns">
              <a class="viewit" href="javascript:void(0)" [routerLink]="['/updateinterview']" (click)="GetInterviewId(item.interviewId,item.jobId)"
                title="Post">View</a>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
<!-- //////////////// Interview List Ends  Here ////////// -->

<!-- //////////////// Job Filter Starts From Here ////////// -->
<div class="page-filters" [ngClass]="(JobCardShow == true && InterviewListShow == false)?'show':'hide'">
  <h2>
    <a href="javascript:void(0);">
      <i class="fa fa-filter" aria-hidden="true"></i> Apply Filters
      <span><i class="fa fa-chevron-down" aria-hidden="true"></i></span>
    </a>
  </h2>
  <form action="" [formGroup]="JobSearch" (submit)="GetAllAppliedJobList(0,'')">
    <div class="filter-wrapper">
      <div class="form-group">
        <!-- <div class="col-md-4 col-sm-6">
          <label>State<span class="mandatory"></span></label>
          <select class="form-control" required formControlName="Stateid" (change)="onChangeState(JobSearch.value.Stateid)">
            <option value="" class="" selected="selected">-- Select --</option>
            <option *ngFor="let state of lstState" [value]="state.id">{{state.stateName}}</option>
          </select>
        </div>
        <div class="col-md-4 col-sm-6">
          <label>District<span class="mandatory"></span></label>
          <select class="form-control" formControlName="Districtid">
            <option value="" selected="selected">-- Select --</option>
            <option *ngFor="let district of district" [value]="district.id">{{district.districtName}}</option>
          </select>
        </div> -->
        <div class="col-md-4 col-sm-6">
          <label>Search Keyword<span class="mandatory"></span></label>
          <input class="form-control" placeholder="Keyword" formControlName="SearchKeyJob">
        </div>
        <div class="col-md-4 col-sm-6">
          <label>Type<span class="mandatory"></span></label>
          <select class="form-control" formControlName="JobType">
            <option value="" selected="selected">All</option>
            <option value="" selected="selected">Job</option>
            <option value="" selected="selected">Walk-in</option>
            <option value="" selected="selected">Event</option>
          </select>
        </div>
      </div>
      <div class="row text-center m-t-5">
        <button type="button" (click)="ResetFilterResultforjob()" class="btn btn-w-shadow no-rd">Reset</button>
        <button type="submit" class="btn btn-w-shadow no-rd filter-toggle">Search</button>
      </div>
    </div>
  </form>
</div>
<div class="col-md-12">
  <div class="col-md-12 jd-detail job-wrapper searchResults" *ngIf="(JobCardShow && (pushdatajob.StateId || pushdatajob.DistrictId || pushdatajob.Keyword))">
    <h4>Search Result</h4>
    <div class="form-group">
      <p class="col-md-4">
        <span class="text-strong">State</span> : {{ShowPushDatajob.state}}
      </p>
      <p class="col-md-4">
        <span class="text-strong">District</span> : {{ShowPushDatajob.district}}
      </p>
      <p class="col-md-4">
        <span class="text-strong">Keyword</span> : {{ShowPushDatajob.Keyword}}
      </p>

    </div>
  </div>
</div>
<!-- //////////////// Job Filter Ends  Here ////////// -->

<!-- //////////////// Job List Start  Here ////////// -->

<div class="col-md-12" *ngIf="JobCardShow">
  <div class="all-jobs-list">
    <div id="" class="searchResults">
      <ul class="joblist-wrapper">
        <li class="job-wrapper edit-delete-h" *ngFor="let item of joblist">
          <div class="form-group m-b-0">
            <div class="row">
              <div class="col-md-12">
                <h2 class="job-title">{{item.comapnyName ? item.comapnyName : 'NA'}}</h2>
              </div>
            </div>
          </div>
          <div class="form-group m-b-0">
            <div class="row">
              <div class="col-md-12">
                <h3 class="company-name m-b-10">Job Title : {{item.jobTitle ? item.jobTitle : 'NA'}}</h3>
              </div>
            </div>
          </div>
          <div class="form-group m-b-0">
            <div class="row">
              <div class="col-md-12">
                <h3 class="company-name m-b-10">Job Code : {{item.jobcode ? item.jobcode : 'NA'}}</h3>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-6">
                <strong>Valid upto : </strong> <span>{{item.validUpTo | date:'dd/MM/y'}}</span>
              </div>
              <div class="col-md-6">
                <strong>Applied Candidates: </strong> <span>{{item.totalAppliedCandidate}}</span>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-6">
                <strong>Name : </strong> <span>{{item.contactPersonName}} </span>
              </div>
              <div class="col-md-6">
                <strong>Designation : </strong> <span>{{item.contactPersonDesg }}</span>
              </div>
            </div>
          </div>

          <div class="form-group">
            <div class="row">
              <div class="col-md-6">
                <strong>Contact No. : </strong> <span>{{item.contactPersonMobile}}</span>
              </div>
              <div class="col-md-6">
                <strong>Email : </strong> <span>{{item.contactPersonEmail }}</span>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-6">
                <strong>Posted Date : </strong> <span>{{item.jobpusheddate | date:'dd/MM/y'}} </span>
              </div>
              <div class="col-md-6">
                <strong>Job Type : </strong> <span>{{item.jobtype}} </span>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="job-list-action card-view-btns">
              <a *ngIf="(item.totalAppliedCandidate!=0 && item.jobtype=='Job')"  (click)="GetJobDetail(item.jobId,item.useracivestatus)" class="viewit" href="javascript:void(0)"
                title="Schedule Interview">
                Schedule Interview
              </a>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>

<div class="cleafix"></div>
<div  *ngIf="showErrorMessage" class="alert alert-danger col-md-12">
 <strong>{{errormsg}} !</strong>
</div>
<!-- //////////////// Job List Ends  Here ////////// -->

<!-- //////////////// Job And Interview Detail Card Start  Here ////////// -->
<div class="col-md-12" *ngIf="JobDetailShow">
  <div class="job-description">
    <div id="" class="searchResults">
      <ul class="joblist-wrapper">
        <li class="job-wrapper edit-delete-h">
          <div class="margin-bottom-20"></div>
          <div class="job-header-1">Posted Job Details</div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-12">
                <h2 class="job-title">Job Posted By : {{jobs.companyName ? jobs.companyName : 'NA'}}</h2>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-12">
                <h3 class="company-name m-b-10">Job Title : {{jobs.jobTitle ? jobs.jobTitle : 'NA'}}</h3>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-12">
                <h3 class="company-name">Job Code : {{jobs.jobcode ? jobs.jobcode : 'NA'}}</h3>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-12 col-sm-12">
                <h6 class="m-b-0">Contact Person</h6>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-4 col-sm-4 col-xs-12">
                <span class="text-strong">Name : </span> {{jobs?.name}}
              </div>
              <div class="col-md-4 col-sm-4 col-xs-12">
                <span class="text-strong">Designation : </span> {{jobs?.designation}}
              </div>
              <div class="col-md-4 col-sm-4 col-xs-12">
                <span class="text-strong">Mobile No. : </span> {{jobs?.mobile}}
              </div>
            </div>
          </div>

          <div class="form-group">
            <div class="row">
              <div class="col-md-4 col-sm-4 col-xs-12">
                <span class="text-strong">Landline Number. : </span> {{jobs.landlineNumber ? jobs.landlineNumber
                :'NA'}}
              </div>
              <div class="col-md-4 col-sm-4 col-xs-12">
                <span class="text-strong">Email : </span> {{jobs.email ? jobs.email : 'NA'}}
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-12 col-sm-12">
                <h6 class="m-b-0">Job Details</h6>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-4 col-sm-4 col-xs-12">
                <span *ngIf="jobs.ageMax != '0'">
                  <span class="text-strong">Age :</span> {{jobs.ageMin ?jobs.ageMin:'NA'}} - {{
                  jobs.ageMax ?
                  jobs.ageMax : 'NA'
                  }}


                </span>

                <span *ngIf="jobs.ageMax=='0'">
                  <span class="text-strong">Age :</span> NA
                </span>
              </div>

              <div class="col-md-4 col-sm-4 col-xs-12">
                <span *ngIf="jobs.male!=0||jobs.female!=0||jobs.transgender!=0">
                  <span class="text-strong">Gender : </span> {{jobs.male==1?' Male ':''}} {{
                  jobs.female==2 ?' ,
                  ':''
                  }}{{
                  jobs.female==2 ?' Female
                  ':''
                  }}{{jobs.transgender==3?' , ':''}}
                  {{jobs.transgender==3?' Transgender ':''}}
                </span>
                <span *ngIf="jobs.male == '0' &&jobs.female == '0' && jobs.transgender == '0'">
                  <span class="text-strong">Gender : </span> NA
                </span>
              </div>
              <div class="col-md-4 col-sm-4 col-xs-12">
                <span *ngIf="jobs.maxExp != '0'">
                  <span class="text-strong">Experience (in Yrs) :</span> {{jobs.minExp ?jobs.minExp:'NA'}} -
                  {{
                  jobs.maxExp ?
                  jobs.maxExp : 'NA'
                  }}
                </span>
                <span *ngIf="jobs.maxExp=='0'">
                  <span class="text-strong">Experience :</span> NA
                </span>
              </div>
            </div>
          </div>

          <div class="form-group">
            <div class="row">
              <div class="col-md-4 col-sm-4 col-xs-12">
                <span class="text-strong">Posted by : </span> {{jobs.posteDby ? jobs.posteDby : 'NA'}}
              </div>
              <div class="col-md-4 col-sm-4 col-xs-12">
                <span class="text-strong">Probation Duration (in days) : </span> {{
                jobs.probationDuration !=0 ?
                jobs.probationDuration :'NA'
                }}
              </div>
              <div class="col-md-4 col-sm-4 col-xs-12">
                <span class="text-strong">OJT Duration (in Hrs) : </span> {{
                jobs.ojtDuration !=0 ? jobs.ojtDuration :
                'NA'
                }}
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-4 col-sm-4 col-xs-12">
                <span class="text-strong">Industry Area : </span> {{jobs.industryArea ? jobs.industryArea : 'NA'}}
              </div>
              <div class="col-md-4 col-sm-4 col-xs-12">
                <span class="text-strong">Functional Area : </span> {{
                jobs.functionalArea ? jobs.functionalArea :
                'NA'
                }}
              </div>
              <div class="col-md-4 col-sm-4 col-xs-12">
                <span class="text-strong">Training Sector : </span> {{
                jobs.trainingSectorList ?
                jobs.trainingSectorList : 'NA'
                }}
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-12 col-sm-12 col-xs-12">
                <span class="text-strong">Training Trade : </span> {{
                jobs.tradeList ?
                jobs.tradeList : 'NA'
                }}
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-12">
                <span class="text-strong">Other Detail : </span>
                <span [innerHtml]="jobs.otherDetail ? jobs.otherDetail :'NA'" style="white-space: pre-wrap;"></span>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-12">
                <span class="text-strong">Job Description : </span>
                <span [innerHtml]="jobs.jobDescription ? jobs.jobDescription :'NA'" style="white-space: pre-wrap;"></span>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-12">
                <span class="text-strong">Keyword : </span>
                <span [innerHtml]="jobs.keyword ? jobs.keyword : 'NA'" style="white-space: pre-wrap;"></span>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-md-12">
                <span class="text-strong">Role and Responsibility : </span>
                <span [innerHtml]="jobs.rolesresPonsiblty ? jobs.rolesresPonsiblty :'NA'" style="white-space: pre-wrap;"></span>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>

<!-- //////////////// Job And Interview Detail Card Ends  Here ////////// -->


<!-- ////////////////Schedule Interiew Form  Start  Here ////////// -->

<div class="cleafix"></div>
<div class="col-md-12">
  <div class="usersWrapper" *ngIf="InterviewSchedule">
    <form [formGroup]="ScheduleInterviewForm" (ngSubmit)="submit()">
      <div class="edit-profile-wrapper margin-top-20">
        <div class="box-title">
          <p class="box-title-content">
            Schedule Interview
          </p>
        </div>
        <div class="box-content">
          <div class="col-md-6">
            <div class="form-group m-b-10">
              <div class="col-md-2 col-sm-2 col-xs-12">
                <label>Date<span class="mandatory">*</span></label>
              </div>
              <div class="col-md-5 col-sm-5 col-xs-6">
                <label>From<span class="mandatory"></span></label>
                <div class="input-group">
                  <input type="text" #valid1="bsDatepicker" [minDate]="minDate1" placeholder="Select Date" bsDatepicker
                    disabled [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY',showWeekNumbers:false  }" class="form-control"
                    formControlName="InterviewDate" />
                  <span class="input-group-addon" (click)="valid1.toggle()" [attr.aria-expanded]="valid1.isOpen"><i
                      class="fa fa-calendar"></i></span>
                  <errors [control]="ScheduleInterviewForm.controls.InterviewDate"></errors>
                </div>
                <p style="color:red ! important" *ngIf="!DateMsg">Please enter valid date</p>
              </div>
              <div class="col-md-5 col-sm-5 col-xs-6">
                <label>To<span class="mandatory"></span></label>
                <div class="input-group">
                  <input type="text" #valid="bsDatepicker" [minDate]="minDate1" placeholder="Select Date" bsDatepicker
                    disabled [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY',showWeekNumbers:false  }" class="form-control"
                    formControlName="InterviewDateTo" />
                  <span class="input-group-addon" (click)="valid.toggle()" [attr.aria-expanded]="valid1.isOpen"><i
                      class="fa fa-calendar"></i></span>
                  <errors [control]="ScheduleInterviewForm.controls.InterviewDateTo"></errors>
                </div>
                <p style="color:red ! important" *ngIf="!DateMsg">Please enter valid date</p>
              </div>
            </div>
            <div class="form-group m-b-10">
              <div class="col-md-2 col-sm-2 col-xs-12">
                <label>Time<span class="mandatory">*</span></label>
              </div>
              <div class="col-md-5 col-sm-5 col-xs-6">
                <label>From<span class="mandatory"></span></label>
                <div>
                  <input type="time" formControlName="fromtime" class="form-control line-h-u" atp-time-picker />
                  <!-- <p style="color:red ! important" *ngIf="!TimeMsg">Please enter valid Time</p> -->
                  <p style="color:red ! important" *ngIf="!TimeRange">Interview Time Can Not Be Less Than 6 AM</p>
                </div>
                <errors [control]="ScheduleInterviewForm.controls.fromtime"></errors>
              </div>
              <div class="col-md-5 col-sm-5 col-xs-6">
                <label>To<span class="mandatory"></span></label>
                <div>
                  <input type="time" formControlName="totime" class="form-control line-h-u" atp-time-picker />
                  <!-- <p style="color:red ! important" *ngIf="!TimeMsg">Please enter valid Time</p> -->
                  <p style="color:red ! important" *ngIf="!TimeRange">Interview Time Can Not Be More Than 10 PM</p>
                </div>
                <errors [control]="ScheduleInterviewForm.controls.totime"></errors>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group m-b-10">
              <div class="col-md-12 col-sm-12 col-xs-12 p-l-0">
                <strong>Any Other Address</strong>
                <input type="checkbox" (change)="ChangeAddress($event.target.checked)">
              </div>
            </div>
            <div class="form-group m-b-10 p-l-0" *ngIf="OtherAddress">
              <div class="col-md-2 col-sm-2 col-xs-12 p-l-0">
                <label>Address<span class="mandatory"></span></label>
              </div>
              <div class="col-md-10 col-sm-10 col-xs-12">
                <textarea class="form-control" rows="3" formControlName="address"></textarea>
              </div>
            </div>

            <div class="form-group m-b-10 p-l-0" *ngIf="OtherAddress==false">
              <div class="col-md-2 col-sm-2 col-xs-12 p-l-0">
                <label>Location<span class="mandatory"></span></label>
              </div>
              <div class="col-md-10 col-sm-10 col-xs-12">
                <select (change)="OnLocationChange(ScheduleInterviewForm.value.Location)" class="form-control"
                  formControlName="Location">
                  <option value="" class="" selected="selected">--Select--</option>
                  <option *ngFor="let item of workLocation" value="{{item.id}}">
                    <!-- {{item.address}} -->
                    {{ (item.address.length>80)? (item.address | slice:0:80)+'...':(item.address) }}
                  </option>
                </select>
              </div>
            </div>

            <div class="form-group m-b-10">
              <div class="col-md-2 col-sm-2 col-xs-12 text-right">

              </div>
              <div class="col-md-5 col-sm-5 col-xs-6">
                <label>State<span class="mandatory">*</span></label>
                <div>
                  <select (change)="onChangeState(ScheduleInterviewForm.value.StateID)" required class="form-control"
                    formControlName="StateID">
                    <option value="" class="" selected="selected">--Select--</option>
                    <option *ngFor="let item of lstState" value="{{item.id}}">{{item.stateName}}</option>
                  </select>
                  <errors [control]="ScheduleInterviewForm.controls.StateID"></errors>

                </div>

              </div>
              <div class="col-md-5 col-sm-5 col-xs-6">
                <label>District<span class="mandatory">*</span></label>
                <div>
                  <select class="form-control" required formControlName="DistrictID">
                    <option value="" class="" selected="selected">--Select--</option>
                    <option *ngFor="let item of district" value="{{item.id}}">{{item.districtName}}</option>
                  </select>
                  <errors [control]="ScheduleInterviewForm.controls.DistrictID"></errors>
                </div>

              </div>
            </div>
          </div>
          <div class="form-group text-center" *ngIf="AddCandidateButton">

            <!-- <button type="button" [disabled]="!(ScheduleInterviewForm.valid && interviewformValid)" (click)="ScheduleInterview(jobs.jobId)"
                    class="btn btn-w-shadow no-rd" tabindex="0">
              Submit
            </button> -->
            <button type="button" (click)="AddCandidate(jobs.jobId,jobs.totalAppliedCandidate); scroll(targetCandidateTable)"
              class="btn btn-w-shadow no-rd m-l-10">
              Add
              Candidate
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
<!-- ////////////////Schedule Interiew Form  Start  Here ////////// -->


<!-- ////////////////Applied Candidate List  Start  Here ////////// -->
<!-- {{suitabilityStatus|json}}-----
{{pusharray|json}}--------------
{{idFormArray|json}}--------------   
{{idFormArrayOpening|json}}---------------
{{ExistingCandidate|json}}------------------
{{PreviousStatusArray|json}} -->
<!-- {{candidatedetail|json}} -->

<div class="col-md-12" #targetCandidateTable>
  <div class="usersWrapper" *ngIf="applicantListshow">
    <div class="table-responsive">
      <table datatable id="DataTables_Table_0" [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered">
        <thead>
          <tr>
            <th><input type="checkbox" [(ngModel)]="selectedAll" (change)="selectAll($event);"> Check all</th>
            <th style="min-width: 45px !important;">S. No.</th>
            <th>Action</th>
            <th>View Screening</th>
            <th>Applicant Name</th>
            <th>Opening Code</th>
            <th>Gender</th>
            <th>Location</th>
            <th>Domicile Address</th>
            <th>Partner Name</th>
            <th>Training Scheme</th>
            <th>Training Trade</th>

            <th style="min-width: 45px !important;">View</th>
            <th>PIA Contact Details</th>

          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of candidatedetail let i=index" [class.row-active]="i == selectedRow">

            <td>
              <!-- <input type="checkbox" *ngIf="!item.joiningstatus" [disabled]="item.joiningstatus" [disabled]="item.joiningstatus==1" (change)="onChange(item.candId, $event.target.checked,item.jodId,item.jobOpeningId,item.candId,item.sourceId,item.apitype,item.isSutable,i)"
                [(ngModel)]="item.selected" value="1"> -->
                <input *ngIf="(item.candidatestaus == 'SUITABLE' || item.candidatestaus == 'NOTSUITABLE' || item.candidatestaus == 'DISQULIFIED'  || item.candidatestaus == 'PENDING'  || item.candidatestaus == 'SCHEDULED' || item.candidatestaus == 'SELECTED')" type="checkbox" [disabled]="item.joiningstatus" [disabled]="item.joiningstatus==1" (change)="onChange(item.candId, $event.target.checked,item.jodId,item.jobOpeningId,item.candId,item.sourceId,item.apitype,item.isSutable,i)"
                [(ngModel)]="item.selected" value="1">
            </td>
            <td>{{i+1}}</td>
            <!-- <td *ngIf="!item.joiningstatus"> -->
                <td>
                <span  *ngIf="(item.candidatestaus == 'SUITABLE' || item.candidatestaus == 'NOTSUITABLE' || item.candidatestaus == 'DISQULIFIED'  || item.candidatestaus == 'PENDING'  || item.candidatestaus == 'SCHEDULED' || item.candidatestaus == 'SELECTED')">
              <select class="form-control" id="myDropDown{{i}}" (change)="JobSuitability(templatefornotsuitable,$event.target.value,item.candId,item.candName,item.jodId,item.jobOpeningId,item.apitype,item.sourceId,i)">
                <option value="2" class="" [selected]="item.isSutable==2">-- Select --</option>
                <option value="1" class="" [selected]="item.isSutable==1">Suitable</option>
                <option value="0" class="" [selected]="item.isSutable==0">Not Suitable</option>
              </select>
            </span> 
            <span *ngIf="(item.candidatestaus == 'PLACED')"><b>Placed</b></span>
            <span *ngIf="(item.candidatestaus == 'RELEASED')"><b>Offer Letter Released</b></span>
            </td>
            <!-- <td *ngIf="item.joiningstatus"><span>Placed</span></td> -->
            <td class="text-center">
              <a href="javascript:void(0)" *ngIf="item.isScreeningAnswer" class="text-link" title="View Details"
                (click)="openscreeningModal(screeningAnswerTemplate,item,i)">
                <i class="fa fa-eye" aria-hidden="true"></i>
              </a>
              <span *ngIf="!item.isScreeningAnswer">-</span>
              <span *ngIf="(item.apitype == 'MRIGS' && item.isScreeningAnswer ==true && item.screeningstatus==false)">Screening Pending</span>
            </td>
            <td>{{item.candName}}</td>
            <td>{{item.jobOpeningCode}}</td>
            <td>{{item.gender}}</td>
            <td>{{item.location ? item.location:'NA'}}</td>
            <td>{{item.domicial ? item.domicial:'NA'}}</td>
            <td>{{item.partnername ? item.partnername:'NA'}}</td>
            <td>{{item.trainingscheme ? item.trainingscheme:'NA'}}</td>
            <td>{{item.traningtrade ? item.traningtrade:'NA'}}</td>

            <td>
              <a href="javascript:void(0)" class="" title="View Details" (click)="setClickedRow(i);viewcandidateProfile(item.sourceId==0?item.candId:item.sourceId,item.apitype)">
                View
              </a>
            </td>
            <td style="text-align:center">
              <a *ngIf="item.apitype=='MRIGS'" href="javascript:void(0)" class="" title="View Details" (click)="openpiaData(jobs.jobId,item.jobOpeningCode,item.sourceId==0?item.candId:item.sourceId,item.apitype)">
                <i class="fa fa-phone" aria-hidden="true"></i>
              </a>
              <p *ngIf="item.apitype!='MRIGS'">N/A </p>
            </td>

          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="form-group text-center" *ngIf="applicantListshow">
  <button type="button" [disabled]="!(ScheduleInterviewForm.valid && interviewformValid)" (click)="ScheduleInterview(jobs.jobId)"
    class="btn btn-w-shadow no-rd" tabindex="0">
    Submit
  </button>
</div>
<!-- ////////////////Applied Candidate List  Start  Here ////////// -->


<ng-template #templatefornotsuitable>
  <div class="modal-header">
    <h4 class="modal-title pull-left">{{CandName}}</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)=" CloseNotSuitableRemark()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="NotSuitableCandidateForm">
      <div class="edit-profile-wrapper margin-top-20">
        <div class="box-title">
          <p class="box-title-content">
            Remark For Not Suitable Candidate
          </p>
        </div>
        <div class="box-content">
          <div class="form-group">
            <div class="col-md-3 text-right">
              <label>Remarks<span class="mandatory">*</span></label>
            </div>
            <div class="col-md-6">
              <div class="input-group">
                <input type="text" maxlength="500" class="form-control" formControlName="remarkforNotsuitable" />
              </div>
              <errors [control]="NotSuitableCandidateForm.controls.remarkforNotsuitable"></errors>
            </div>
          </div>
          <div class="form-group text-center">
            <button type="button" data-dismiss="modal" [disabled]="!(NotSuitableCandidateForm.valid)" (click)="SubmitNotSuitableRemark()"
              class="btn yl-btn">
              Submit
            </button>
          </div>
        </div>
      </div>
    </form>

  </div>
</ng-template>
<div class="cleafix"></div>
<ng-template #screeningAnswerTemplate>
  <div class="modal-header padding-bottom-0">
    <button type="button" class="close" (click)="closeScreeningModal()">&times;</button>
    <!--<h4 class="modal-title" style="text-transform: capitalize">Screening Answer</h4>appliedCandidate.isSutable-->
  </div>
  <div class="modal-body">
    <div class="legend-box m-b-5">
      <div class="col-md-12 row">
        <span class="legend-title">
          <label class="biz-label">Screening Answer</label>
        </span>
      </div>
      <div class="form-group m-t-10">
        <div class="col-md-6 col-sm-12 col-xs-12">
          <b>Candidate :</b> {{screeningAnswer.candidateName}}
        </div>

      </div>
      <div class="form-group">
        <div class="col-md-6 col-sm-12 col-xs-12">
          <b>JobTitle :</b> {{screeningAnswer.jobtitle}}
        </div>
        <div class="col-md-6 col-sm-12 col-xs-12">
          <b>JobCode :</b> {{screeningAnswer.jobcode}}
        </div>
      </div>
      <div class="col-md-12">
        <hr class="m-t-5 m-b-10">
      </div>
      <div class="form-group" *ngFor="let data of screeningAnswer.groupList">
        <div class="screening-group-wrapper">
          <div class="col-md-12 screening-group-name">
            Group Name : {{data.groupname}}
          </div>
          <div class="col-md-12" *ngFor="let item of data.quesList; let i = index">
            <ul class="group-queston">
              <li>
                <span>Q {{i + 1}}.</span> {{item.questions}} ?
              </li>
              <li>
                <span>Ans.</span> {{item.answers=='true' ?' yes':'no'}}
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer p-t-0">
    <button type="button" class="btn btn-w-shadow no-rd" (click)="selectSuitable(templatefornotsuitable,'1',appliedCandidate,index)">Suitable</button>
    <button type="button" class="btn btn-w-shadow no-rd" (click)="selectSuitable(templatefornotsuitable,'0',appliedCandidate,index)">Not
      Suitable</button>
    <button type="button" class="btn btn-w-shadow no-rd" (click)="closeScreeningModal()">Close</button>
  </div>



</ng-template>
<app-CommonView-Layout></app-CommonView-Layout>
